<!DOCTYPE html>
<html ng-app='app'>
  <head>
    <title>front2back</title>
    <link href="style.css" rel="stylesheet">
  </head>
  <body ng-controller='mainCtrl'>
    <div class='page'>
      <div class='border' ng-show='currentUser'>
        <h3>New Item</h3>
        <input type="text" ng-model='userInput' ng-keyup="enter($event)">
        <button ng-click='submit(userInput)'>Submit</button>
        
        <div>
          <h3>My List</h3>
          <hr>
          <div class='left' ng-repeat="name in names">
            <ul>
              <div class='each'>
                <h3 class='item-name'>{{name.name}}</h3>
                <div class='buttons'>
                  <button ng-click='remove(name.id)'>Delete</button>
                  <button ng-click='edit(name.id)'>Edit</button>
                  <input ng-show="selected === name.id"type="text" ng-model='info'>
                  <button ng-show="selected === name.id" ng-click='update({id: name.id, item: info})'>Update</button>
                </div>
              </div>
            </ul>
          </div>
        </div>
      </div>

      <div class='login-register-form'>
        <div class='spread'>
          <h3>{{iflogged}} {{currentUser}}</h3>
        </div>
        <div ng-hide='currentUser'class="login-form">
          <h3>Login</h3>
          <input ng-model="login_email" type="email" placeholder="email">
          <input ng-model="login_password" type='password' placeholder="password">
          <button ng-click="checkUser({email: login_email, password: login_password})">Login</button>
        </div>
        <button ng-show='currentUser' ng-click='logout()'>Logout</button>
        <button class='button-lg' ng-show='currentUser' ng-click='changePassword()'>Change Password</button>
        <input type='password' placeholder='Old password' ng-show='showInputField' ng-model='oldPassField'>
        <input type='password' placeholder='New password' ng-show='showInputField' ng-model='passChangeField'>
        <input type='password' placeholder='Repeat new password' ng-show='showInputField' ng-model='passChangeFieldRepeat'>
        <button ng-show='showInputField' ng-click='submitNewPassword({oldPass: oldPassField, newPass: passChangeField, newPassVerify: passChangeFieldRepeat})'>Submit</button>
        <h3>{{passChangedSuccess}}</h3>
        <div ng-hide='currentUser' class="register-form">
          <h3>Create User</h3>
          <input ng-model="email" type="text" placeholder="email">
          <input ng-model="password" type='password' placeholder="password">
          <button ng-click="newUser({email: email, password: password})">Create</button>
        </div>
      </div>
    </div>
    
      
      
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.js"></script>
    <script src='./app.js'></script>
    <script src='./mainCtrl.js'></script>
    <script src='./mainSvc.js'></script>
  </body>
</html>